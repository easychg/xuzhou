<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>个人网站</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="css/base.css" rel="stylesheet">
<link href="css/list.css" rel="stylesheet">
<link href="css/media.css" rel="stylesheet">
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/lrtk.js"></script>
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
<!--[if lt IE 9]>
<script src="js/modernizr.js"></script>
<![endif]-->

<!-- 返回顶部调用 begin -->
<script type="text/javascript" src="js/up/jquery.js"></script>
<script type="text/javascript" src="js/up/js.js"></script>
<!-- 返回顶部调用 end-->

</head>
<body>
<header id="header">
  <!-- header-->
</header>
<article>
  <div class="l_box f_l">
    <div class="topnews" id="div">
      <h2><b>文章</b>推荐</h2>
        <!-- index-->
    </div>
    <div class="page" id="pages"><!--pages--></div>
  </div>
  <div class="r_box f_r">
    <div class="covers">
      <div id="slide-holder">
        <div id="slide-runner"> <a href="/" target="_blank"><img id="slide-img-1" src="images/a1.jpg"  alt="" /></a> <a href="/" target="_blank"><img id="slide-img-2" src="images/a2.jpg"  alt="" /></a> <a href="/" target="_blank"><img id="slide-img-3" src="images/a3.jpg"  alt="" /></a> <a href="/" target="_blank"><img id="slide-img-4" src="images/a4.jpg"  alt="" /></a>
          <div id="slide-controls">
            <p id="slide-client" class="text"><strong></strong><span></span></p>
            <p id="slide-desc" class="text"></p>
            <p id="slide-nav"></p>
          </div>
        </div>
      </div>
      <script>
	  if(!window.slider) {
		var slider={};
	}

	slider.data= [
    {
        "id":"slide-img-1", // 与slide-runner中的img标签id对应
        "client":"标题1",
        "desc":"" //这里修改描述
    },
    {
        "id":"slide-img-2",
        "client":"标题2",
        "desc":""
    },
    {
        "id":"slide-img-3",
        "client":"标题3",
        "desc":""
    },
    {
        "id":"slide-img-4",
        "client":"标题4",
        "desc":""
    } 
	];

	  </script> 
    </div>
    <div class="moreSelect" id="lp_right_select"> 
      <script>
window.onload = function ()
{
	var oLi = document.getElementById("tab").getElementsByTagName("li");
	var oUl = document.getElementById("ms-main").getElementsByTagName("div");
	
	for(var i = 0; i < oLi.length; i++)
	{
		oLi[i].index = i;
		oLi[i].onmouseover = function ()
		{
			for(var n = 0; n < oLi.length; n++) oLi[n].className="";
			this.className = "cur";
			for(var n = 0; n < oUl.length; n++) oUl[n].style.display = "none";
			oUl[this.index].style.display = "block"
		}	
	}
}
</script>
      <div class="ms-top">
        <ul class="hd" id="tab">
          <li class="cur"><a href="/">点击排行</a></li>
          <li><a href="/">最新文章</a></li>
          <li><a href="/">站长推荐</a></li>
        </ul>
      </div>
      <div class="ms-main" id="ms-main">
        <div style="display: block;" class="bd bd-news" >
          <ul id="dianji">
            <!--点击-->
          </ul>
        </div>
        <div  class="bd bd-news">
          <ul id="zuixin">
            <!--最新-->
          </ul>
        </div>
        <div class="bd bd-news">
          <ul id="tuijian">
            <!--推荐-->
          </ul>
        </div>
      </div>
      <!--ms-main end --> 
    </div>
    <!--切换卡 moreSelect end -->
    
    <div class="cloud">
      <h3>标签云</h3>
      <ul id="biaoqian">
        <!--标签云-->
      </ul>
    </div>
    <div class="tuwen">
      <h3>图文推荐</h3>
      <ul id="tuwentuijian">
        <!--图文推荐-->
      </ul>
    </div>
    <div class="ad" id="guanggao"> <!--<img src="images/03.jpg">--> </div>
  </div>
  <!--r_box end --> 
</article>
<footer id="footer">
  <!--footer -->
</footer>
<script type="text/javascript" src="js/t_a.js"></script>
<script type="text/javascript" src="js/config.js"></script>
<script type="text/javascript" src="js/footer.js"></script>
<script type="text/javascript" src="js/header.js"></script>
<script src="js/silder.js"></script>
<script type="text/javascript">
    var total = data.length;
    var arrindex = config.index;//
    var arrdianji = config.dianji;
    var arrtuijian = config.tuijian;
    var arrzuixin = config.zuixin;
    var arrbiaoqian = config.biaoqian;
    var arrguanggao = config.guanggao;
    var arrtuwentuijian = config.tuwentuijian;
    var arrlunbo = config.lunbo;
    var arrlunbo2 = config.lunbo2;
    var div = document.getElementById("div");
    var tuijian = document.getElementById("tuijian");
    var zuixin = document.getElementById("zuixin");
    var dianji = document.getElementById("dianji");
    var biaoqian = document.getElementById("biaoqian");
    var tuwentuijian = document.getElementById("tuwentuijian");
    var guanggao = document.getElementById("guanggao");
    for (var i in arrtuijian) {
        if (arrindex[i] > data.length) continue;
        var li = document.createElement("li");
        var a = document.createElement("a");
        a.href = data[arrindex[i]].url; a.innerText = data[arrindex[i]].title;
        li.appendChild(a);
        tuijian.appendChild(li);
    }
    for (var i in arrzuixin) {
        if (arrindex[i] > data.length) continue;
        var li = document.createElement("li");
        var a = document.createElement("a");
        a.href = data[arrindex[i]].url; a.innerText = data[arrindex[i]].title;
        li.appendChild(a);
        zuixin.appendChild(li);
    }
    for (var i in arrdianji) {
        if (arrindex[i] > data.length) continue;
        var li = document.createElement("li");
        var a = document.createElement("a");
        a.href = data[arrindex[i]].url; a.innerText = data[arrindex[i]].title;
        li.appendChild(a);
        dianji.appendChild(li);
    }
    for (var i in arrbiaoqian) {
        console.log(arrbiaoqian[i]);
        var a = document.createElement("a"); a.href = "/"; a.innerText = arrbiaoqian[i];
        biaoqian.appendChild(a);
    }
    for (var i in arrtuwentuijian) {
        var li = document.createElement("li");
        var lia = document.createElement("a"); lia.href = "/";
        var liaimg = document.createElement("img"); liaimg.src = data[arrtuwentuijian[i]].img;
        var liab = document.createElement("b"); liab.innerText = data[arrtuwentuijian[i]].title;
        var lip = document.createElement("p");
        var lipspan = document.createElement("span"); lipspan.setAttribute("class", "tutime"); lipspan.innerText = data[arrtuwentuijian[i]].time;
        lia.appendChild(liaimg);
        lia.appendChild(liab);
        li.appendChild(lia);
        lip.appendChild(lipspan);
        li.appendChild(lip);
        tuwentuijian.appendChild(li);
    }
    if (arrguanggao.length > 1) {
        var guanggaoimg = document.createElement("img");
        guanggaoimg.src = arrguanggao[1].img;
        guanggao.appendChild(guanggaoimg);
    }
    var total = data.length;
    var page = GetQueryString("page") || 1;
    var prePage = page - 1 > 0 ? page - 1 : 1;
    var nextPage = parseInt(page) + 1 > total ? total : parseInt(page) + 1;
    var count = 7;
    var totalPage = Math.ceil(total / count);
    var from = (page - 1) * count;
    var to = page * count > total ? total : page * count;
    console.log("from：" + from); console.log("to：" + to);
    var div = document.getElementById("div");
    var pages = document.getElementById("pages");
    var path = GetRequest();
    //var ul = document.createElement("ul");
    for (var i = from; i < to; i++) {

        var blogs = document.createElement("div"); blogs.setAttribute("class", "blogs");
        var figure = document.createElement("figure");
        var figureimg = document.createElement("img");
        var blogsul = document.createElement("ul");
        var blogsulh3 = document.createElement("h3");
        var blogsulh3a = document.createElement("a"); blogsulh3a.href = data[i].url; blogsulh3a.innerText = data[i].title;
        var blogsulp = document.createElement("p"); blogsulp.innerText = data[i].descr;
        var blogsulp2 = document.createElement("p"); blogsulp2.setAttribute("class", "autor");
        var blogsulp2span = document.createElement("span"); blogsulp2span.setAttribute("class", "lm f_l");
        var blogsulp2spana = document.createElement("a"); blogsulp2spana.innerText = "机友汇";
        var blogsulp2span2 = document.createElement("span"); blogsulp2span2.setAttribute("class", "dtime f_l"); blogsulp2span2.innerText = data[i].time;
        var blogsulp2span3 = document.createElement("span"); blogsulp2span3.setAttribute("class", "viewnum f_r"); blogsulp2span3.innerText = "浏览（459）";
        var blogsulp2span4 = document.createElement("span"); blogsulp2span4.setAttribute("class", "pingl f_r"); blogsulp2span4.innerText = "评论（30）";
        figureimg.src = data[i].img;
        figure.appendChild(figureimg);
        blogs.appendChild(figure);
        blogsulh3.appendChild(blogsulh3a);
        blogsul.appendChild(blogsulh3);
        blogsul.appendChild(blogsulp);
        blogsulp2span.appendChild(blogsulp2spana);
        blogsulp2.appendChild(blogsulp2span);
        blogsulp2.appendChild(blogsulp2span2);
        blogsulp2.appendChild(blogsulp2span3);
        blogsulp2.appendChild(blogsulp2span4);
        blogsul.appendChild(blogsulp2);
        blogs.appendChild(blogsul);
        div.appendChild(blogs);
    }
    //div.appendChild(ul);
    var aFirst = document.createElement('a');
    aFirst.href = path + encodeURI(1);
    aFirst.innerText = "首页";
    aFirst.setAttribute("class", "aFirst");
    pages.appendChild(aFirst);
    var aPrev = document.createElement('a');
    aPrev.href = path + encodeURI(prePage);
    aPrev.innerText = "上页";
    aPrev.setAttribute("class", "aPrev");
    pages.appendChild(aPrev);
    for (var i = 1; i <= totalPage; i++) {
        var a = document.createElement('a');
        a.href = path + encodeURI(i);
        a.innerText = i;
        if (page == i) {
            a.setAttribute("class", "aNum current");
        } else {
            a.setAttribute("class", "aNum");
        }
        pages.appendChild(a);
    }
    var aNext = document.createElement('a');
    aNext.href = path + encodeURI(nextPage);
    aNext.innerText = "下页";
    aNext.setAttribute("class", "aNext");
    pages.appendChild(aNext);
    var aLast = document.createElement('a');
    aLast.href = path + encodeURI(totalPage);
    aLast.innerText = "尾页";
    aLast.setAttribute("class", "aLast");
    pages.appendChild(aLast);
    function GetQueryString(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
        var r = window.location.search.substr(1).match(reg);
        if (r != null) return unescape(r[2]); return null;
    }
    function GetRequest() {
        var url = "";
        var _url = location.search; //获取url中含"?"符后的字串
        url += window.location.pathname + "?";
        if (_url.indexOf("?") != -1) {
            var str = _url.substr(1);
            console.log("substr0：" + _url.substr(0));
            console.log("str：" + str);
            strs = str.split("&");
            for (var i = 0; i < strs.length; i++) {
                if (strs[i].split("=")[0] != "page") {
                    url += strs + "&";
                }
            }
        }
        url += "page=";
        return url;
    }
</script>
</body>
</html>
